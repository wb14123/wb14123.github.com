<!DOCTYPE html>

<html>
  <head>
    <meta charset="UTF-8">
    <title> Fetch Popular Erlang Modules by Coffee Script |  Bin Wang</title>
    <link rel="stylesheet" href="/static/css/default.css" type="text/css" />

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-52904500-1', 'auto');
      ga('send', 'pageview');
    </script>

  </head>

  <body>
    <header id="page_header">
      <nav id="page_nav">
        <ul>
             <li><a href="/">Home</a></li>
             <li><a href="/read.html">Read</a></li>
             <li><a href="/travel.html">Travel</a></li>
             <li><a href="/search.html">Search</a></li>
             <li><a href="/about.html">About</a></li>
       </ul>
      </nav>

    </header>

    <section id="page_content">
      <div id="content_table">
  <h3>Table of Contents</h3><ol class="toc"><li><a href="#how-it-works">How It Works?</a></li><li><a href="#keep-it-simple-and-stupid">Keep It Simple and Stupid</a></li><li><a href="#develop-bitbucket-vs-github">Develop: Bitbucket VS Github</a></li><li><a href="#deploy-from-appfog-to-heroku">Deploy: From Appfog to Heroku</a></li></ol>
</div>

<div id="article_content">
<article id="post">
  <header>
    <h1>Fetch Popular Erlang Modules by Coffee Script</h1>
    
      <p class="description">Posted on 16 Nov 2013, tagged <code>erlang</code><code>coffeescript</code><code>node.js</code></p>
    
  </header>

  <p>These days I write <a href="https://github.com/wb14123/erlang_module">a small app</a> which fetches the popular erlang modules. It is inspired by <a href="http://nodejsmodules.org">nodejsmodules.org</a>. But it is simpler. Only fetch the dependencies of a repo.</p>

<h2 id="how-it-works">How It Works?</h2>

<ol>
  <li>Fetch top 1000 stared Erlang repos form Github’s search API.</li>
  <li>Fetch <code>rebar.config</code> of the repo from <code>https://raw.github.com/&lt;repo's full name&gt;</code>.</li>
  <li>Use regex to get the repo’s dependencies.</li>
  <li>Sort the repos by how many repos are depend on it.</li>
</ol>

<h2 id="keep-it-simple-and-stupid">Keep It Simple and Stupid</h2>

<p>As its function is simple, so I keep the code simple.</p>

<ul>
  <li>The app is written by coffeescript, which is perfect to parse Github’s restful API and JSON.</li>
  <li>No database is required. Just use some arrays and objects to store informations.</li>
  <li>It generates static html files with Jade. So it is faster to visit and easier to deploy.</li>
</ul>

<h2 id="develop-bitbucket-vs-github">Develop: Bitbucket VS Github</h2>

<p>I think <a href="http://bitbucket.org">Bitbucket</a> is wonderful to use:</p>

<ul>
  <li>Support private repositories for free.</li>
  <li>Good diff with side-by-side support.</li>
</ul>

<p>As a developer. I prefer bitbucket. But if I want to share my code with others, I’d rather to use Github. So I mainly use Bitbucket and its issue tracker. And then sync it to Github.</p>

<h2 id="deploy-from-appfog-to-heroku">Deploy: From Appfog to Heroku</h2>

<p>There are many free node.js hosters. <a href="http://heroku.com">Heroku</a> is a very famous one. <a href="http://appfog.com">Appfog</a> is a good one to use, too. It supports some services for free without credit cards. I used it to deploy some node.js apps. But it does not support custom domain names for free, so I use Heroku at last.</p>

<p>Heroku is very easy to use. If you want to deploy new version, just push to the Heroku remote. If you want to roll back to some version, just click in the web page. I use the Heroku CLI which is installed from Archlinux AUR’s <code>heroku-toolbelt</code> package.</p>

<p>There are some tricks:</p>

<ul>
  <li>Use environment variables to config secret things such as database password, OAuth client secret and so on.</li>
  <li>Use Express as the static file server.</li>
  <li>Set timeout to update every day.</li>
  <li>Use redirect to force the user to visit through my custom domain name.</li>
</ul>

</article>

<footer id="post_footer">
  <table><tr>
    
      <td id="prev"><a href="/2013-11-05-Server-Logic-of-Level-Based-Games.html">Prev: Server Logic of Level Based Games</a></td>
    
    
      <td id="next"><a href="/2013-12-08-Languages-Should-Have-Database-Built-In.html" id="next">Next: Languages Should Have Database Built In</a></td>
    
  </tr></table>
</footer>

<section id="comment">
  <div id="disqus_thread"></div>
  <script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'crazy-hot-ice'; // required: replace example with your forum shortname
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>
</div>

    </section>

    <footer id="page_footer">
      Copyright @ 2008 - 2016 Bin Wang
      <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.en_US">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a>.
    </footer>
    
    <!-- MathJax -->
    <script type="text/javascript"
        src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>

    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      TeX: { equationNumbers: { autoNumber: "AMS" } }
    });
    </script>
  </body>
</html>
